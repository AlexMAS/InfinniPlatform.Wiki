---
layout: doc
title: "Shared Cache"
position: 
categories: 
tags:
---

Распределенный кэш конфигурации

## Description

Для обеспечения возможности прозрачного кэширования данных в распределенной системе применяется механизм разделяемого кэш данных.
На текущий момент разделяемый кэш используется в платформе в следующих основных целях:

* Кэширование метаданных прикладных конфигураций в памяти с целью быстрого обращения к метаданным в памяти
* Кэширование состояния пользовательских сессий прикладных конфигураций
* Кэширование объектов подсистемы безопасности (пользователей, ролей, прав) системы.

Кроме того разделяемый кэш может быть вызван из пользовательских скриптов через прикладной контекст следующим образом

```csharp
public void Action(IApplyContext target) {
	
	var cacheComponent = target.Context.GetComponent<ISharedCacheComponent>();	
}
```

Интерфейс разделяемого кэща имеет следующий вид:

```csharp
    
    public interface ISharedCacheComponent
    {
        /// <summary>
        ///  Получить объект из кэша по указанному ключу
        /// </summary>
        /// <param name="key">Ключ в кэше</param>
        /// <returns>Закэшированный объект</returns>
        object Get(string key);

        /// <summary>
        ///  Запомнить объект в кэше по указанному ключу
        /// </summary>
        /// <param name="key">Ключ</param>
        /// <param name="item">Кэшируемый объект</param>
        void Set(string key, object item);

        /// <summary>
        ///   Заблокировать кэш для изменения
        /// </summary>
        void Lock();

        /// <summary>
        ///   Разблокировать кэш после изменения
        /// </summary>
        void Unlock();
    }
```

Следует отметить, что перед установкой соответствующего значения в распределяемом кэше, необходимо заблокировать кэш объектов, а после установки разблокировать.
Поскольку операция блокировки является ресурсоемкой, следует, по-возможности, избегать ее использования в прикладных скриптах.
