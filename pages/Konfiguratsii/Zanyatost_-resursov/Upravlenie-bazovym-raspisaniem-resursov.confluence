---
layout: default
title: Управление базовым расписанием ресурсов
position: 
categories: 
tags: 
---

<p>Чтобы для ресурса отображалось расписание в шахматке, необходимо создать документ &laquo;Базовое расписание ресурса&raquo;.</p><table><tbody><tr><th class="highlight-grey" data-highlight-colour="grey"><div class="tablesorter-header-inner">Приложение</div></th><th class="highlight-grey" data-highlight-colour="grey"><div class="tablesorter-header-inner">Вкладка</div></th></tr><tr><td>Регистратура</td><td>Не является главной страницей приложения, но вкладка &quot;Базовое расписание&quot; закреплена, без возможности ее закрыть</td></tr></tbody></table><h4>Документ &laquo;Базовое расписание ресурса&raquo; (<span>ResourceBaseSchedule</span>)</h4><p>В данном документе происходит составление базового расписания работы ресурсов. Существует возможность составить расписание как по неделям, с указанием конкретных дней работы (в этом случае время работы будет одинаково для всех указанных дней), так и по дням.</p><p><strong>Поля:</strong></p><table><tbody><tr><th><div class="tablesorter-header-inner">Наименование</div></th><th><div class="tablesorter-header-inner">Тип Данных</div></th><th><div class="tablesorter-header-inner">Заголовок</div></th><th><div class="tablesorter-header-inner">Описание</div></th><th><div class="tablesorter-header-inner">Множественность</div></th><th colspan="1"><div class="tablesorter-header-inner">Видимость</div></th><th colspan="1"><div class="tablesorter-header-inner">Автозаполнение</div></th></tr><tr><td><span class="translation">Resource</span></td><td><ac:link><ri:page ri:content-title="Управление ресурсом" /><ac:plain-text-link-body><![CDATA[Элемент справочника "Ресурсы"]]></ac:plain-text-link-body></ac:link></td><td>Ресурс&nbsp;</td><td>Наименование ресурса, на который создается базовое расписание</td><td><p>[1..1]</p></td><td colspan="1">&nbsp;</td><td colspan="1">&nbsp;</td></tr><tr><td><span>Room</span></td><td><a href="http://confluence.infinnity.lan/pages/viewpage.action?pageId=49250358">Элемент справочника &quot;Кабинет&quot;</a></td><td>Кабинет&nbsp;</td><td>Кабинет, в котором расположен данный ресурс</td><td>[1..1]</td><td colspan="1">readonly</td><td colspan="1">Автоматически заполняется кабинетом из документа &quot;Ресурс&quot;.</td></tr><tr><td>Department</td><td><a href="http://confluence.infinnity.lan/pages/viewpage.action?pageId=49250352">Элемент справочника &quot;Отделения&quot;</a></td><td><p>Отделение&nbsp;</p></td><td>Отделение, в котором расположен данный ресурс</td><td>[1..1]</td><td colspan="1">readonly</td><td colspan="1">Автоматически заполняется отделением из документа &quot;Ресурс&quot;.</td></tr><tr><td colspan="1">DateFrom</td><td colspan="1">DateTime</td><td colspan="1">Период действия с</td><td colspan="1">Начало периода действия расписания</td><td colspan="1"><span>[1..1]</span></td><td colspan="1">&nbsp;</td><td colspan="1">Текущая дата</td></tr><tr><td colspan="1">DateTo</td><td colspan="1"><span>DateTime</span></td><td colspan="1">по</td><td colspan="1">Окончание периода действия расписания</td><td colspan="1"><span>[1..1]</span></td><td colspan="1">&nbsp;</td><td colspan="1">&nbsp;</td></tr><tr><td colspan="7"><strong>Блок &quot;Расписание&quot;</strong></td></tr><tr><td colspan="7">Вкладка &quot;Неделя&quot;</td></tr><tr><td>&nbsp;</td><td>CheckBox</td><td><p>Дни повторения</p><p>Пн, Вт, Ср, Чт, Пт, Сб, Вс</p></td><td>Перечень дней, в которые будет действовать текущее расписание</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td colspan="1">Time</td><td colspan="1"><p>Сложный тип: ScheduleTime</p></td><td colspan="1">Время</td><td colspan="1">Период времени, в которое будет действовать текущее расписание</td><td colspan="1"><span>[0..*]</span></td><td colspan="1">&nbsp;</td><td colspan="1">&nbsp;</td></tr><tr><td colspan="1">&nbsp;</td><td colspan="1">String</td><td colspan="1">Сводка</td><td colspan="1">Носит информативный характер, агрегирует выбранные диапазоны времени</td><td colspan="1">&nbsp;</td><td colspan="1"><span>readonly</span></td><td colspan="1">Заполняется автоматически.</td></tr><tr><td colspan="7"><p><span>Примерный вид документа:</span></p><p><span><ac:image><ri:attachment ri:filename="bazovoe-raspisanie.png" /></ac:image></span></p></td></tr><tr><td colspan="7"><p>Вкладка &quot;По дням&quot;</p><p>7 дней недели (checkBox) + период дат для каждого дня + выпадающий список &laquo;Условия повторения&raquo; (весь период, четные дни, нечетные дни) + Знак &laquo;+&raquo; для добавления новой строки периода.</p><p>По умолчанию присутствует 1 строка периода для каждого дня, при нажатии на &laquo;+&raquo;, появляется новая строка.</p></td></tr><tr><td colspan="7"><ac:image><ri:attachment ri:filename="bazovoe-raspisanie---po-dnyam.png.png" /></ac:image></td></tr></tbody></table><p>&nbsp;</p><p>&nbsp;</p><p>Для управления документами &laquo;Базовое расписание ресурса&raquo; необходимо перейти в журнал &laquo;Базовое расписание ресурсов&raquo;</p><h4>Журнал &laquo;Базовое расписание ресурсов&raquo;</h4><p>Журнал позволяет задавать для ресурса базовое расписание работы на определенный период.</p><p>Поля:</p><ul><li>Ресурс</li><li>Кабинет</li><li>Отделение</li><li>Дата начала действия расписания</li><li>Дата окончания действия расписания</li><li>Описание (поле &laquo;Сводка&raquo;)</li></ul><p>Фильтры:</p><ul><li>Ресурс</li><li>Кабинет</li><li>Отделение</li><li>Дата начала действия расписания (период)</li><li>Дата окончания действия расписания (период - по умолчанию в начало периода ставиться текущая дата)</li></ul><p><strong>&nbsp;</strong></p><p><strong>Команды журнала:</strong></p><p>Команды, доступные всегда:</p><ul><li><strong>Добавить. </strong>В диалоговом окне открывается новый документ &laquo;Базовое расписание ресурсов. Команда доступна всегда.</li></ul><p>Команды, доступные для выбранной записи:</p><ul><li><strong>Редактировать.</strong> Открывает документ &laquo;Базовое расписание&raquo; на редактирование.</li><li><strong>Удалить</strong>. Удаляет документ.</li></ul><p><strong style="line-height: 1.4285715;">Цветовое кодирование</strong></p><ul><li>Если дата окончания расписания меньше текущей даты, то строчка с расписанием подсвечивается серым.</li></ul><p><strong style="line-height: 1.4285715;">Валидация:</strong></p><p>Сохранение:</p><ul><li>Период действия &laquo;по&raquo; не может быть меньше периода действия &laquo;с&raquo;.</li><li>В блоке &laquo;Расписание&raquo; не должно быть пересечения времени для одних и тех же дней недели.</li><li>Если составляется расписание на неделю, должен был проставлен хотя бы один флаг дней повторений.</li><li>Если в таблице расписание добавлено несколько строк, и в одной из них поле условие повторения выбрано весь период, то поле Время (с &ndash; по) не должно пересекаться с другой строкой данной таблицы</li><li>Если в таблице расписание добавлено несколько строк и в каждой из них в поле условие повторения выбрано одинаковое значение, то поле Время (с-по) не должно пересекаться с другой строкой данной таблицы</li><li>Нельзя создать документ, если для такого ресурса уже было создано расписание, срок его действия не истек и оно пересекается с созданным.</li></ul><ul><li>Если на заведенное расписание уже были выданы талоны:<ul><li>Нельзя менять расписание так, чтобы выданные талоны не попадали в него.</li></ul></li></ul><p>Удаление:</p><ul><li>Нельзя удалять расписание, если на него были выданы талоны.</li></ul><p>По данным из документов &laquo;Базовое расписание ресурса&raquo; строиться шахматка журнала &laquo;Расписание занятости ресурсов&raquo;. Любые изменения в документах базового расписания приводят к автоматическому изменению шахматки.</p><p>&nbsp;</p>