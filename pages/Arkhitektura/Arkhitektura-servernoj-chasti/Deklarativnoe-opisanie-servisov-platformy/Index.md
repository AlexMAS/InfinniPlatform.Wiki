---
layout: default
title: Декларативное описание сервисов платформы
position: 
categories: 
tags: 
---

Декларативное описание сервисов платформы необходимо для упрощения настройки сервисной части для прикладного разработчика.

В ходе обновления сервисной части происходит анализ предоставленных конфигураций сервисов, на основании чего выполняется настройка сервера платформы для поддержки веб-вызовов соответствующих REST сервисов.

Платформа предоставляет следующие механизмы конфигурирования сервисов REST (о низкоуровневом механизме обработки REST запросов и его настройке см. здесь):

#### Настройка и добавление доступных обработчиков запросов REST

Платформа, как указано здесь, предоставляет функционал для настройки и расширения доступных типов обработчиков запросов REST.

В настоящий момент существует несколько типов зарегистрированных для стандартного сервера InfinniPlatform обработчиков запросов REST:

|Наименование обработчика|Тип запроса REST|Предназначение|Аргументы обработчика|
|------------------------|----------------|--------------|---------------------|
|[[ApplyChangesHandler|Обработчик запросов изменения данных (ApplyChangesHandler)]]|POST|Применение изменений к объекту (подробнее см. здесь)|Id - строковое, идентификатор объекта, к которому применяются измененияEvents - список,  события изменения объекта|
|SearchHandler|GET|Получить список объектов|filterObject - список, объекты фильтра документов, подробнее об объектах фильтра см. здесьpageNumber - int, номер страницы данныхpageSize - int, количество элементов на страницеsearchType - int, тип поиска, возможные значения: 1 - все элементы, 2-только актуальные версии, 4-только объекты с указанной версией. О поддержке версионности см. здесь.version - string, версия конфигурации, для которой осуществляется поиск документов. Подробнее о механизме версионности см. здесь.|
|UploadHandler|POST|Загрузить контент файла|linkedData, JSON - привязанный к загружаемому файлу объект JSON, описывающий загружаемый файловый контент.Средствами HTTP 1.1 вместе с запросом отправляется контент файла|
|SystemEventsHandler|POST|Информировать систему о факте изменения метаданных прикладной конфигурации.|metadataConfigurationId - string, идентификатор конфигурации, метаданные которой изменились.|
|[[SearchDocumentAggregationHandler|Обработчик запроса на агрегацию данных (SearchDocumentAggregationHandler)]] |GET|Получение агрегированных данных по документам в индексе|aggregationConfiguration - конфигурация, которая должна предоставить агрегированные данныеaggregationMetadata - метаданные конфигурацииfilterObject - список объектов фильтраdimensions - срезы OLAP куба, по которым выполняется группировка в ходе вычисления агрегацииaggregationType - тип итогового вычисляемого значения агрегацииaggregationField - поле, по которому необходимо вычислять итоговое значение агрегацииpageNumber - int, номер страницы данныхpageSize - int, размер страницы данных|

Указанные обработчики имеют жесткую структуру выполнения, не зависящую от типа запроса, однако, функциональность каждого обработчика может расширяться за счет декларации[[**точек расширения бизнес-логики**|Точки расширения бизнес-логики]]**. **

Обработчики запросов содержат следующие точки расширения (для понимания общей концепции следует ознакомиться с [[Событийная модель|Запрос на создание (модификацию) объекта]]:

|Обработчик|Точка расширения|Описание точки расширения|
|----------|----------------|-------------------------|
|ApplyChangesHandler|FilterEvents|Точка расширения бизнес-логики, служащая для фильтрации событий изменения объекта на прикладном уровне|
|Move|Точка расширения бизнес-логики, служащая для выполнения действий с измененным объектом|
|GetResult|Точка расширения бизнес-логики, служащая для выполнения возврата результата изменения объекта|
|SearchHandler|ValidateFilter|Точка расширения бизнес-логики, служащая для валидации фильтра данных, предоставленного пользователем для поиска|
|SearchModel|Точка расширения бизнес-логики, служащая для формирования модели результатов поиска|

 

 

