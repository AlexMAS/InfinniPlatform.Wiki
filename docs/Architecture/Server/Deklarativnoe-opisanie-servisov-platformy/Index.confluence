---
layout: default
title: "Декларативное описание сервисов платформы"
position: 
categories: 
tags: 
---

<p>Декларативное описание сервисов платформы необходимо для упрощения настройки сервисной части для прикладного разработчика.</p><p>В ходе обновления сервисной части происходит анализ предоставленных конфигураций сервисов, на основании чего выполняется настройка сервера платформы для поддержки веб-вызовов соответствующих REST сервисов.</p><p>Платформа предоставляет следующие механизмы конфигурирования сервисов REST (о низкоуровневом механизме обработки REST запросов и его настройке см. здесь):</p><h4>Настройка и добавление доступных обработчиков запросов REST</h4><p>Платформа, как указано здесь, предоставляет функционал для настройки и расширения доступных типов обработчиков запросов REST.</p><p>В настоящий момент существует несколько типов зарегистрированных для стандартного сервера InfinniPlatform обработчиков запросов REST:</p><table><tbody><tr><th>Наименование обработчика</th><th>Тип запроса REST</th><th colspan="1">Предназначение</th><th>Аргументы обработчика</th></tr><tr><td><ac:link><ri:page ri:content-title="Обработчик запросов изменения данных (ApplyChangesHandler)" /><ac:plain-text-link-body><![CDATA[ApplyChangesHandler]]></ac:plain-text-link-body></ac:link></td><td>POST</td><td colspan="1">Применение изменений к объекту (подробнее см. здесь)</td><td><p>Id - строковое, идентификатор объекта, к которому применяются изменения</p><p>Events - список,&nbsp; события изменения объекта</p></td></tr><tr><td>SearchHandler</td><td>GET</td><td colspan="1">Получить список объектов</td><td><p>filterObject - список, объекты фильтра документов, подробнее об объектах фильтра см. здесь</p><p>pageNumber -&nbsp;int, номер страницы данных</p><p>pageSize - int, количество элементов на странице</p><p>searchType - int, тип поиска, возможные значения: 1 - все элементы, 2-только актуальные версии, 4-только объекты с указанной версией. О поддержке версионности см. здесь.</p><p>version - string, версия конфигурации, для которой осуществляется поиск документов. Подробнее о механизме версионности см. здесь.</p></td></tr><tr><td>UploadHandler</td><td>POST</td><td colspan="1">Загрузить контент файла</td><td><p>linkedData, JSON - привязанный к загружаемому файлу объект JSON, описывающий загружаемый файловый контент.</p><ac:structured-macro ac:name="note"><ac:parameter ac:name="title">ВАЖНО!</ac:parameter><ac:rich-text-body><p>Средствами HTTP 1.1 вместе с запросом отправляется контент файла</p></ac:rich-text-body></ac:structured-macro></td></tr><tr><td>SystemEventsHandler</td><td>POST</td><td colspan="1">Информировать систему о факте изменения метаданных прикладной конфигурации.</td><td>metadataConfigurationId - string, идентификатор конфигурации, метаданные которой изменились.</td></tr><tr><td colspan="1"><p><ac:link><ri:page ri:content-title="Обработчик запроса на агрегацию данных (SearchDocumentAggregationHandler)" /><ac:plain-text-link-body><![CDATA[SearchDocumentAggregationHandler]]></ac:plain-text-link-body></ac:link></p><p>&nbsp;</p></td><td colspan="1">GET</td><td colspan="1">Получение агрегированных данных по документам в индексе</td><td colspan="1"><p>aggregationConfiguration - конфигурация, которая должна предоставить агрегированные данные</p><p>aggregationMetadata - метаданные конфигурации</p><p>filterObject - список объектов фильтра</p><p>dimensions - срезы OLAP куба, по которым выполняется группировка в ходе вычисления агрегации</p><p>aggregationType - тип итогового вычисляемого значения агрегации</p><p>aggregationField - поле, по которому необходимо вычислять итоговое значение агрегации</p><p>pageNumber - int, номер страницы данных</p><p>pageSize - int, размер страницы данных</p></td></tr></tbody></table><p>Указанные обработчики имеют жесткую структуру выполнения, не зависящую от типа запроса, однако, функциональность каждого обработчика может расширяться за счет декларации<ac:link><ri:page ri:content-title="Точки расширения бизнес-логики" /><ac:link-body> <strong>точек расширения бизнес-логики</strong></ac:link-body></ac:link><strong>.&nbsp;</strong></p><p>Обработчики запросов содержат следующие точки расширения (для понимания общей концепции следует ознакомиться с <ac:link><ri:page ri:content-title="Запрос на создание (модификацию) объекта" ri:space-key="MCP" /><ac:plain-text-link-body><![CDATA[Событийная модель]]></ac:plain-text-link-body></ac:link>:</p><table><tbody><tr><th>Обработчик</th><th>Точка расширения</th><th>Описание точки расширения</th></tr><tr><td rowspan="3">ApplyChangesHandler</td><td>FilterEvents</td><td>Точка расширения бизнес-логики, служащая для фильтрации событий изменения объекта на прикладном уровне</td></tr><tr><td colspan="1">Move</td><td colspan="1">Точка расширения бизнес-логики, служащая для выполнения действий с измененным объектом</td></tr><tr><td colspan="1">GetResult</td><td colspan="1">Точка расширения бизнес-логики, служащая для выполнения возврата результата изменения объекта</td></tr><tr><td rowspan="2">SearchHandler</td><td colspan="1">ValidateFilter</td><td colspan="1">Точка расширения бизнес-логики, служащая для валидации фильтра данных, предоставленного пользователем для поиска</td></tr><tr><td colspan="1">SearchModel</td><td colspan="1">Точка расширения бизнес-логики, служащая для формирования модели результатов поиска</td></tr></tbody></table><p>&nbsp;</p><p>&nbsp;</p>