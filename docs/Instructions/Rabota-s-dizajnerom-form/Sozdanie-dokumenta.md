---
layout: doc
title: "Создание документа"
position: 
categories: 
tags: 
---

Документы создаются в конфигурациях.

##### Home -> Configurations ->Edit-> Contents-> Add->Document

#### **Вкладка ****General** - общие сведения о документе

|Название поля|Чем заполнять?|Ограничения|
|Name|Название документа|Язык: английскийУникальное в рамках конфигурации|
|Caption|Заголовок, отображается в перечне документов| |
|Description|Описание| |
|Version|Индекс для ElasticSearch|= Name|

 

#### **Вкладка ****Schema**** - **схема документа

|Название поля|Чем заполнять?|Ограничения|
|Поля типа: Bool, Integer, Float, String, DateTime, Uuid, Binary|
|Name|Название поля|Язык: английскийУникальное в рамках документа|
|Caption|Заголовок, отображается в списке полей| |
|Description|Описание| |
|Поля типа: Object, Array – поля описанные выше +|
|Configuration|Имя конфигурации, в которой лежит документ, на который ссылается поле|Выбор из существующий конфигураций|
|Document|Имя документа, на которое ссылается поле|Выбор из существующий полей.|
|Inline|**Если галочка не стоит:**Документ на форме отображается как поле с выпадающим списком, из которого можно выбрать одно из существующий значений.**Если галочка стоит:**На форме отображаются все поля вложенного объекта (пустые).Как подключить архетип в OpenEHR|Только для Object|
|Resolve|Используется в журналах**Если галочка не стоит:**В основном документе сохраняется только Id и DisplayName вложенного объекта, следовательно, в журнале могут быть показаны только Id и DisplayName.**Если галочка стоит:**В журнале можно будет показать любые поля из вложенного объекта.|Только для Object.Только для не Inline.|

 

## Схема документа

Схема документа отвечает только за набор полей и их тип. Внешний вид документа генерируется позже.

Поля могут быть скопированы и вставлены в другой документ (не зависимо от того, в какой конфигурации он находится)

### Ссылки на другие документы

Для того чтобы использовать другой документ, используется тип Object, в котором указывается, какой документ и из какой конфигурации подключать.

### Подключение справочников

Справочники - это документы.

Для подключения справочников также используется тип поля Object.

При этом в поле Configuration указывается название конфигурации НСИ (ClassifierStorage), а в поле Document - имя документа, отвечающего за справочник.

##### Справочники с Росминздрава

Если справочник импортирован с Росминздрава, то в поле Document прописывается OID справочника в формате "oid_1_2_643_5_1_13_2_1_1_178".

Можно использовать скрипт:

```
declare @name nvarchar(50)
set @name = '1.2.643.5.1.13.2.1.1.178'
select Name = 'oid_' + replace(@name, '.','_')
```

 

### Множественные поля

Для создания множественных полей используется тип Array.

* #### Одно поле, к которому подключена терминология



Заполняются поля Array: Configuration и Document

* ####  Группа полей



Поля Configuration и Document остаются пустыми.

Внутрь поля Array подключаются необходимые поля (для этого необходимо выделить нужный массив и добавить в него поля)

### Группировка полей

Для группировки полей необходимо создать поле типа Object (не ссылающиеся на документ), остальные поля создавать внутри него.

### Советы

Если после создания документа он не сохраняется, значит по нему не построился индекс. Чтобы построить индекс, необходимо запустить команду "UpdateStoreMigration" (вкладка "Migrations and Verifications" -> Migration name = UpdateStoreMigration -> Up) 

